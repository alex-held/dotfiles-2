# freshshell.com
source ~/.fresh/build/shell.sh
source ~/.fresh/build/vendor/zsh-syntax-highlighting.zsh

setopt prompt_subst                 # allows variable substitution in the prompt
setopt no_beep                      # i hate beeps
setopt interactive_comments         # escape commands so i can use them later (allow comments after commands)
setopt rm_star_wait                 # if `rm *` wait 10 seconds before performing it!
setopt list_types                   # show types in completion
setopt auto_cd                      # if a command is not in the hash table, and there exists an executable directory by that name, perform the cd command to that directory.
setopt cd_able_vars                 # if the argument to cd is the name of a parameter whose value is a valid directory, it will become the current directory.
setopt no_auto_name_dirs            # see: http://www.neactar.com/shell/fix-for-wrong-prompt-dir-when-using-zsh-project-rvmrc-and-oh-my-zsh
setopt hist_ignore_dups             # ignore duplication command history list
setopt hist_verify
setopt hist_expire_dups_first
setopt hist_ignore_space
setopt extended_history
setopt append_history
setopt inc_append_history
setopt magic_equal_subst

# option + right/left
bindkey "\e\e[C" vi-forward-word
bindkey "\e\e[D" vi-backward-word

# make the delete key (or Fn + Delete on the Mac) work instead of outputting a ~
bindkey '^?' backward-delete-char
bindkey "^[[3~" delete-char
bindkey "^[3;5~" delete-char
bindkey "\e[3~" delete-char

# start tetris on ctrl+t
autoload -U tetris
zle -N tetris
bindkey '^T' tetris

WORDCHARS=''

# history
HISTFILE=$HOME/.zsh_history
HISTSIZE=10000
SAVEHIST=10000

# show time a command took if over 4 sec
export REPORTTIME=4
export TIMEFMT="%*Es total, %U user, %S system, %P cpu"

ZSH_HIGHLIGHT_STYLES+=(
  unknown-token           'bg=red,bold'
  alias                   'fg=magenta,bold'
  single-quoted-argument  'fg=green,bold'
  double-quoted-argument  'fg=green,bold'
  builtin                 'fg=yellow,bold'
  function                'fg=yellow,bold'
)
ZSH_HIGHLIGHT_HIGHLIGHTERS=(main brackets)

# rbenv
eval "$(rbenv init - | grep -v \^rbenv\ rehash)"
gem() { rbenv exec gem "$@" && rbenv rehash && hash -r; }
