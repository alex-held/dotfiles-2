#!/bin/bash -e

function gh() {
  local URL="https://$(git config remote.origin.url | sed 's/\.git//' | sed 's/https:\/\///' | sed 's/git:\/\///' | sed 's/git@//' | tr ':' '/')"

  case "$1" in
    i|issues|-i|--issues)
      URL="$URL/issues"
      _append_id "$@"
      ;;
    p|pulls|-p|--pulls)
      URL="$URL/pulls"
      _append_id "$@"
      ;;
    w|wiki|-w|--wiki)
      URL="$URL/wiki"
      ;;
  esac

  open "$URL"
}

_append_id() {
  if [[ -n $2 ]]; then
    URL="$URL/$2"
  fi
}

gh "$@"
